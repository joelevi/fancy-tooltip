<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fancy Tooltip</title>
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.7/css/bootstrap.min.css" integrity="sha512-fw7f+TcMjTb7bpbLJZlP8g2Y4XcCyFZW8uy8HsRZsH/SwbMw0plKHFHr99DN3l04VsYNwvzicUX/6qurvIxbxw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  
  <style type="text/css">
    body {
      background: white;
    }
    
    /* Container for the hoverable element */
    .hover-object {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      cursor: none;
      position: relative;
    }

    .tooltip {
      position: fixed;
      background-color :white;
      color: black;
      padding: 8px 12px;
      font-size: 14px;
      z-index: 1000;
      white-space: nowrap;
      border-radius: 0 20px 20px 20px;
    
      /* default state */
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
      transform: translate3d(10px, 10px, 0);  /* start slightly down-right */
      transform-origin: top left;
      transition:
        transform 180ms cubic-bezier(.2,.6,.2,1),
        opacity   180ms cubic-bezier(.2,.6,.2,1),
        visibility 0s linear 180ms; /* wait until fade ends before hiding */
    }
    
    .tooltip.visible {
      visibility: visible;
      pointer-events: auto;
      opacity: 1;
      transform: translate3d(0,0,0); /* at pointer */
      transition-delay: 0s, 0s, 0s;
    }
    
    /* animate out UP-LEFT */
    .tooltip.hiding {
      visibility: visible; /* still visible while animating */
      pointer-events: none;
      opacity: 0;
      transform: translate3d(-12px, -12px, 0); /* slide up-left */
      transition-delay: 0s, 0s, 0s;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="row m-5">

      <div class="col-6">
        <div class="card bg-light mb-3 shadow">
          <div class="card-header h4">
            I wanted to make a (relatively) simple rich tooltip
          </div>
          <div class="card-body">
            <h1 class="card-title h3">Fancy Tooltip</h1>
            <p class="card-text">When you hover over a <code>.hover-object</code>, the <code>.tooltip</code> should become visible. Said tooltip should allow rich (HTML) content, and should act like the cursor has been expanded to show the contents of the tooltip. </p>
            <p class="card-text">In this example I've used FontAwesome for icons and Bootstrap for styles, but you could replace those with your own content if you want. </p>
          </div>
          <div class="card-footer">

            <!-- Start Fancy Tooltip -->
            <div class="hover-object">
              <i class="fa-solid fa-toolbox"></i> Hover Object
              <div class="tooltip border shadow">
                <p>Here is where you'd put your regular HTML content, with as much or as little as you'd like.</p>
                <p>In this example, I'm showing how you could use the Fancy Toolip as a "Legend" to describe what various icons mean. </p>
                
                <p class="border-top"><i class="fa-solid fa-cloud-arrow-down"></i> = Landing Page</p>
                <p><i class="fa-solid fa-signature"></i> = Email Signature</p>
               </div>
            </div>
            <!--End Fancy Tooltip -->
            <span class="text-end text-body-secondary">v1.1</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.7/js/bootstrap.min.js" integrity="sha512-zKeerWHHuP3ar7kX2WKBSENzb+GJytFSBL6HrR2nPSR1kOX1qjm+oHooQtbDpDBSITgyl7QXZApvDfDWvKjkUw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  
  <script type="text/javascript">
    document.addEventListener('DOMContentLoaded', () => {
      const hoverObject = document.querySelector('.hover-object');
      const tooltip = document.querySelector('.tooltip');
      const offsetX = 15, offsetY = 15;
    
      if (!hoverObject || !tooltip) return;
    
      const positionTooltip = (e) => {
        let left = e.clientX + offsetX;
        let top  = e.clientY + offsetY;
    
        const r = tooltip.getBoundingClientRect();
        if (left + r.width > window.innerWidth)  left = window.innerWidth - r.width - 5;
        if (top  + r.height > window.innerHeight) top  = window.innerHeight - r.height - 5;
    
        tooltip.style.left = `${left}px`;
        tooltip.style.top  = `${top}px`;
      };
    
      hoverObject.addEventListener('mouseenter', (e) => {
        tooltip.classList.remove('hiding');
        tooltip.classList.add('visible');
        positionTooltip(e);
      });
    
      hoverObject.addEventListener('mousemove', positionTooltip);
    
      hoverObject.addEventListener('mouseleave', () => {
        tooltip.classList.remove('visible');
        tooltip.classList.add('hiding');
    
        const onEnd = (ev) => {
          if (ev.propertyName !== 'opacity') return;
          tooltip.classList.remove('hiding'); // resets to hidden base state
          tooltip.removeEventListener('transitionend', onEnd);
        };
        tooltip.addEventListener('transitionend', onEnd);
      });
    });
  </script>
</body>
</html>
